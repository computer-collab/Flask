Create a digital attendance system based on android app as client coded in java, with python as server as follows:

Android app:
Uses local storage as cookies. Takes the permission from the user to read the sim status to auto identify the mobile number.
this app saves the mobile number in its data, uses it as identity to verify with the server.
for the first time, user has to login by using the basic email addresss and otp, and create a password.
this app request api as notification and toasts.
this app should has to recieve foreground idle service, and background service if required
this app requests to control lan networks and requests the user to always allow to post the http jsons to the lan network end points
this app tracks attendance as:
json file{
rollno : rollno,
present : present
phone no : phone no # primary identity
}
The apps idle cpu request should be at least performance and battery saving must consume <1000kHz of cycles and low resources. Set the apk min target as android noughat.
a similar json string is posted at the programmed end point upon request by server as if like a photo was clicked by the android whenever the server request is recieved
the network form is of like  a socket. always connected, but network errors are displayed on android and optimised . Make sure that it pushes the notification to the android system.
It takes access to turn on and off the wifi such that if user forgot to connect to the wifi, and if the source is not detected via three handshake methods used by the http, send an alert to the android user and if he says as ignore, just ignore it.
Provide the notification as attendance not detected as a alerted notification and post in app notification as attendance post successful.
let the user to have 

Networking:
this connection is completely lan based when it comes to attendance, accessible over either of both wired and wireless networks that whatever it redirects to the connection with the server.
this connection requires the internet to post a notification to the user if the user is out of the lan network.

Server:
server is hardcoded in python in various files. Use the otp verification method via emailing service, leave the otp for me. Use the function 'GenerateOtp()' from otp.py, which i will insert the file into its modules folder later. Leave this file up to me.
Server always constantly checks the connection with the connection with the clients. At a random certain timings it clicks out the attendance as follows:
    create an admin page with the credentials "digitaladmin@das.in" as email, digital.admin as password.
    this has features that admin can set up the time table for the given institute.
    institute name can be set by admin.
    The attendance request is captured randomly at 10mins after the start and end of the current period of session time, accordingly to the time table provided by the admin.
    The third attendance is captured at random event in between these two of the captures.
    The connection with the clients is always recorded as connected time, responses at 1st 2nd 3rd session.

Server has teacher and student login credentials with phone number used as primary key until the first registration and admin has access to remove, add and manage all of them.
Server Creates databases to store all of these. 
Create an admin port at 1980 as the same credentials but using the website designs and mark it to Admin page.
Create a Teacher port at 2525 as with the same credentials used for a teacher.
By using the internet sersvice, post a notification to the android user if the attendance is not captured as "Attendance not detected" at the end of the period.
Server always tracks the uptime of each student.

{
    Create the seperate ports for internet and local area network
}

Teacher:
Teacher has two ways to login. 
1. The main app: The email id of the college, (let out the template set by the admin in admin page for email.) uses the mobile number as the primary recognition of the device with sim status verification not with any of messaging service. Allow the teacher to login if mobile number is ok.
    the app takes input as password, email address and otp generator.
    """ To generate otp via email. use this:
    import random, smtplib

def GenerateOTP(email):
    receiver_email = email
    otp = random.randint(100000,999999)
    sender_email = "otpmail.noreply@gmail.com"
    app_password = "dxrrnmilxweeznoz"
    subject = "Your OTP for registration"
    message = f"""
    Hey,
    This is your otp : {otp} for registration.
    Thankyou for registering.
    From : Mail Bot Service, login.
    """
    text = f"Subject : {subject}\n\n{message}"
    try :
        server = smtplib.SMTP("smtp.gmail.com",587)
        server.starttls()
        server.login(sender_email,app_password)
        server.sendmail(sender_email,receiver_email,text )
        server.quit()
        print("Email has been successfully sent.\n")
        return otp
    
    except Exception as e :
        print(f"\n\033[31mError:\033[0m {e}\n")
        return "Error_exception"

        """
2. Web login method. by connection with the local host server,(in the network reach of server via, WAN/LAN), use GenerateOTP(); password, email. 
...........
Teacher can access the students data record accordingly to their signup for each of their respective subjects.

Class Representative Login:
    this is as same as the student but with special access, set , update the timetabe, current / upcoming subjects, modify the weekly/daily timetable of the class.

Class Incharge Login:
    this is as same as teacher login but with extended privilages to all student add to teacher add, teacher subject, registration, update, CRUD modifications for timetable.. etc at super previlages but at limited than admin.
    The incharge should approve each login/signup. ( These are through out the internet.)
    CAN VIEW WHOLE CLASS'S ATTENDANCE STATUS, FROM TEACHER TO STUDENT.

Student login:
     as simple as a normal login. When approved, the app collects the data of LAN configured web socket online status.
     Can view their own attendamce tracks